# 要件定義書

SNS投稿文＋ブログ記事＋背景画像自動生成Webツール

## 1. システム概要

本システムは、ユーザーが入力した「商品名・商品画像URL・価格・買える場所」の情報をもとに、Gemini APIを活用し以下を自動生成するWebツールである。生成対象はSNS投稿文（短文）、Instagram用投稿、ブログ記事、および背景画像。ユーザーは生成結果をコピー／ダウンロード可能で、直近10件まで履歴を保存・再利用できる。

対応環境はPCブラウザおよびスマホブラウザ。開発環境はVSCode×GeminiCLI。

## 2. 開発条件

* **対応環境**：PCブラウザ、スマートフォンブラウザ（Chrome/Safari想定）
* **開発手段**：VSCode × GeminiCLI
* **使用API**：Gemini API（テキスト生成・画像生成）
* **デザイン**：指定なし（レスポンシブデザイン前提）

## 3. 必須機能

### 3.1 生成機能

* **ステップ1**：SNS投稿用短文案（80〜120文字）を3案生成
* **ステップ2**：ユーザーが1案を選択
* **ステップ3**：選択結果をもとに以下を生成

  * **SNS（Instagram）用**

    * タイトル（20文字以内）
    * 本文（100〜150文字）
    * ハッシュタグ（5個）
    * 背景画像（1080×1080px、Gemini API）
  * **ブログ用**

    * 見出し構造（H1〜H3）
    * 本文（1,200〜2,000文字、中見出し含む）
    * 背景画像（1200×630px、Gemini API）
  * **参考画像**

    * テキスト入り・商品入りデザイン（Canva加工前提、精度は問わない）

### 3.2 出力機能

* 生成テキストはコピー可能（コピー用ボタン）
* 生成画像はダウンロード可能（ダウンロードボタン）

### 3.3 履歴保存機能

* ログインユーザー単位で直近10件まで保存
* 保存結果を再利用可能（再生成や編集の起点として利用）


## 4. 不要機能

* 高度なデザインカスタマイズ機能
* CMS自動投稿（WordPress・note等）
* 利用データの集計分析
* 無制限の履歴保存


## 5. システム用プロンプト（開発者組み込み）

Gemini APIへの指示は以下を固定プロンプトとして実装：

> あなたはマーケティングと広報の専門家です。ユーザーが入力した「商品名・商品画像URL・価格・買える場所」の情報をもとに、以下を考慮して商品を説明してください。
>
> * 誰の（ターゲット）
> * 何を（課題や欲求）
> * どのように解決するのか（商品・サービスの特徴）
> * ターゲットの人口動態（年代、性別、居住地など）
> * ターゲットのライフスタイル（行動パターン、価値観、嗜好など）
>
> 最初に、商品の魅力を伝えるための3つの短文案（80〜120文字）を提案してください。各案は簡潔で感情を引き出すものにしてください。
> ユーザーが選択した案をもとに、以下を生成してください。
>
> * 【SNS用】タイトル（20文字以内）、本文（100〜150文字）、ハッシュタグ5〜10個、背景画像用プロンプト
> * 【ブログ用】見出し構造（H1〜H3）、本文（1,200〜2,000文字）、中見出し、背景画像用プロンプト


## 6. ユーザーインターフェース要件

* シンプルで直感的なUI（入力フォーム → 生成 → 選択 → 出力保存のフロー）
* レスポンシブデザイン（スマホ利用を想定）
* 出力画面に「コピー」「ダウンロード」「保存」ボタン設置
* 履歴画面に「再利用」「削除」機能


## 7. 非機能要件

* **セキュリティ**：ログイン必須（認証方式はOAuth2またはメール・パスワード）
* **パフォーマンス**：テキスト生成3秒以内、画像生成10秒以内を目標
* **スケーラビリティ**：同時アクセス100ユーザー程度を想定
* **拡張性**：将来的に多言語対応を検討できる設計


## 8. 開発フロー（推奨）

1. 環境構築（VSCode×GeminiCLI、API認証設定）
2. UIモックアップ作成
3. テキスト生成機能の実装
4. 画像生成機能の実装
5. 出力・保存機能の実装
6. 履歴機能の実装
7. テスト（単体・結合・総合）
8. リリース


## 9. 想定リスク・制約

* Gemini APIのレスポンスが安定しない場合のリトライ処理
* 大容量画像生成によるAPIコスト増加
* 保存件数制限（10件）を超える場合の削除仕様
